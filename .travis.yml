language: java
jdk:
- openjdk11
env:
  global:
  - CC_TEST_REPORTER_ID=c797b7daf01dcb0506ba34f974da26e67d4957a86fff49a9a13af460a7a6e7c1
  - secure: Fr1DNZq3f5AkQpbFUmu95eyEXUEF467KWATfq/PZmA/EYCRbglRxV/Go7zd2Xoub2OcPVUHQcaRANmQvtiM8W40Rheyt36NTmyx/BYQFZojzclwg8+Oy9wUGkyfOzO9g18zV/QZAqq7vBf362S4+Zzlr3N38xm5gkSMmO1xnU/0N6GSzqsrQ9w7OYjAVGatK/5+KPEER52N6F/xv5/Db5DbJS4ViQZ7NpunNEuhu94lb1f7+73L5YqdfeQnwJXJXx5Y+eDhARHA23BbZQkMqsp25O+aRaeo1OTuKNF83Qs+Vev/flISFhbl/iCaAde9g/ZH9+1eTHJTmdIjBB9OFXPIW2dGrHiJSYD6XD0BqwjbLnMXN+VkBUqX45Pt363Ev3vhwNOQ06AmQwkojGPRmfDhAXL7GKfaBMFzqKmIQa0BKfZADL6Q+/29k+f8SpxTzbFPAuAeZr0UuaD+IbX5X/X/GNv/Ir8va965/at6+DfFPHja1p27BVLox1JvdYdM7f2JnoiLOasHjUdnoL8wIFrCEPUGLMznM2DXQZxkkuaBulRTnLlUwLBIEJ5623tc7VSeGmjD+9Uk6jfiB9Ulqt4s6fZuq4d+F0Azr6D6D/9ZpwG6xkEPfeVOjQdiqpIluyILhRaFbf21OQnwEdn5iteKRqIxBTJV1HEZuR4GgALc=
  - secure: Y65+h8WYPqYxuESDXlKE+RcrQAAA7LHjE+6gvXOsKVrPN89vlvduwbBgrz9nUPpi1nKeNIIx71/4FtzY4Thx02XewyXjT6KJEzX1m/CAIdER2O9R/SqMJqHS/ghqSf3nl2elrNtv0NQfjU9yBUEDe1zzj2UfNoinkkJVq8pe2Q0In8y15FxvOfbCngK/rKc3w6TMowBdE90gQlHPgZotSJ9XVcgtusY+L583CYJGgPQBoyZyugoQOmuRok1EkJTOuy+YZzft3ehAHDubjdgqTarmvD8GX0ReMH1WndeLIt54sd3+iQJ3olYD1AybOr0PKCsPbeVxTyZXdWFpyDbXcPM600A+E6Jstg85HohCqKh6VcqSKDCTe5OB0r5ERVIZlL6VVn6g6BKCzZ4y59yIW+OrwfKrJ4ycR+BCsDrtDSFq7qEOGG3j+aU2gFmqlGrEDxhnQK4gCdXCCq5/odSSOEj30Bl2pNVDpleli/WeihaRl77VhEnWpAdNYb4om5/4UlV52Y121mwO6qVmC2BgEPeLBAYwas/FI//JwoTAAqEUms5XC5nsGJUERA6NqQ6p/0E/pZ3UTtavX3dYpAhcuyn/wy2TEcc7xUOxcteqGdee33nlgNyGp8zTjV7dcpaBoRbl6N6vwgXjgslyHk/iSt/K6NwI5AP3sTV2c4jSG6c=
  - secure: RaHQcFWEtdUjk0zy/SfcqKDxt4CKDwG6OQA2pADAeelSg9+qkHJ0g39lm252hpxKQbLckqoyKcBawsTjQKv/qu1CXnTrZVJms95mQ2groRFvcxRPMtHggfi8rPQSeWUKh9wzzR+LhBhK7Bhh3z7MAkvTAmBi2haCtvM3wyThAqHHbMP1WXZs+oF6xt9tfEXUXJEzEJKL/+LkW8sLJSHtXq4bczi6+FdsOHYHvAg9uxqUfLE5tgSEZcLKuESyTtodfGUlrOljRntNxkx+Y5FgdxWBk0k3aI21G+9J51EzQAxza2GQRdJERsunVt9uyIQ9LINkOUgC13BsnKT/8T4Jtr1HMAYJVVyZ4liASMkonHG5jybnVwCO7Szg7P3zieSyhmVVD7tcQsg4WWmGhnc6/qLTUK3JHTJ56a8IKpVzjwbc94aCFeFB4rInymrJ2tVapZ3ix3ieV6R/R4K8OkKLl6nMs4qvPS0yXegDI5yFa2fnexNALuntr3uCaJszaRDB/kefAtcsOn1U1fJCm+aIvvAoIasCandUDTzQScoSYJ6/P9FjmHNPS8pELVMnFfNl1kWm0FvlLYPuPqnXU8OgIiNmY34ikxAvTJgE9K/tnJrPwhH2q2wg8R5Jmqe5ikhHUOBp4k4sNC0j4oTAziCK8c7gIJ7008jfv2C3ToKptyk=
install:
- mvn --settings .travis/settings.xml install -DskipTests=true -Dgpg.skip -Dmaven.javadoc.skip=true
  -B -V
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
- ".travis/before-script.sh"
script:
- mvn test
- "./cc-test-reporter format-coverage -d -t jacoco ./target/jacoco-ut/jacoco.xml"
- "./cc-test-reporter upload-coverage -d"
before_deploy:
- mvn help:evaluate -N -Dexpression=project.version|grep -v '\['
- export project_version=$(mvn help:evaluate -N -Dexpression=project.version|grep
  -v '\[')
deploy:
  provider: releases
  api_key:
    secure: kEKtxcHlSwEQAnSGlTKPJwTvVXUXE1+wYXaSuDJ7cpgdmQRWiW/OrFa5kCaJruNWTLzjPTrJLAJ9hbRJtxOxNIQwBAmCDFWM2OPtyfk53L1EpKoJpl10WHV1wbcMOpiHHfxy9Vx2SDvQUAoZbfRryojzl/bmnAaFHDIWCFmcPzNEGxN8XWLkz1K0icJ+ari44M+9WjwX3jDV0WTAdGjhBytnQSa+CE10ydCTXbAOFYppenEsaPsXv+2RazijQRUMtlv8Lum9jGPn2D15pQn4R4Mty0f3AMh91OlnEn+9oJnsVvq0R/Fa+hL/YxzU1h8uFTwyGmzDrH3E+TCx8ucJGeo5gZGDJXHHtiy+hxeJU0UK1BeCIP2ya+388qDcz61wV4uYAyHHWLL7JKRY1w4AugUAPeB/Y43V/Mg0YpAAw21ecXfEeftxpunLWtW6YyXH8Xr1OhDnmc8u4EjlPQc8ZyrnN3+EoFTBr5BG52EC6Q2IB6SS2teitz7E41cleiij3QmIQ88sRWc01ym5tXZqBvCMIHrnONrTGIJYyDeKdsjo08R5qermySB3Gnx6JGPZ1Wj6KYVIeJ462V6yCCzhFYGJZMkl0dgREDKClJvXahBlwO1P66nSmuntpOEMOJSiDrGDsNUJvnXSy9z6kVXriOVu8BPzti0ryPVcLussggs=
  file: ".travis.yml"
  on:
    repo: trickl/oanda-java-client
  skip_cleanup: 'true'
